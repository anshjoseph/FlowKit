2025-10-14 22:22:27.444 INFO {MainThread} [main] (<module>) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:105} Starting FastAPI app at 0.0.0.0:9500
2025-10-14 22:22:27.500 INFO {MainThread} [main] (lifespan) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:35} Starting FlowKit Control Unit lifespan
2025-10-14 22:22:27.546 INFO {MainThread} [fcb_queue] (__init__) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:23} Initialized FlowControlBlockQueue with MongoDB connection
2025-10-14 22:22:27.546 INFO {MainThread} [fcb_queue] (recover_from_storage) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:27} Starting recovery of FlowControlBlocks from MongoDB
2025-10-14 22:22:27.600 INFO {MainThread} [main] (lifespan) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:39} Recovered FCB_QUEUE from storage
2025-10-14 22:22:31.700 INFO {MainThread} [main] (log_requests) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:48} Incoming request: POST http://127.0.0.1:9500/fcb/add
2025-10-14 22:22:31.701 INFO {MainThread} [main] (add_fcb) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:60} Add FCB request received with nodes: ['start', 'node1']
2025-10-14 22:22:31.701 INFO {MainThread} [flow] (__init__) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow.py:12} Flow initialized with 2 nodes
2025-10-14 22:22:31.701 INFO {MainThread} [flow_control_block] (__init__) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:27} FlowControlBlock 667a0a83-c223-4667-8280-216bd8993a5f initialized in QUEUED state
2025-10-14 22:22:31.701 INFO {MainThread} [fcb_queue] (add_fcb) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:107} \u2795 Added new FlowControlBlock with id 667a0a83-c223-4667-8280-216bd8993a5f
2025-10-14 22:22:31.702 INFO {MainThread} [flow_control_block] (start) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:30} FlowControlBlock 667a0a83-c223-4667-8280-216bd8993a5f starting
2025-10-14 22:22:31.702 INFO {MainThread} [flow_control_block] (exec) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:72} Submitting next node execution for flow 667a0a83-c223-4667-8280-216bd8993a5f
2025-10-14 22:22:31.702 INFO {ThreadPoolExecutor-1_0} [flow] (get_curr_node) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow.py:24} Getting current node: start
2025-10-14 22:22:31.703 INFO {ThreadPoolExecutor-1_0} [flow] (get_curr_inp) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow.py:28} Getting current input data: {}
2025-10-14 22:22:31.703 INFO {ThreadPoolExecutor-1_0} [flow_control_block] (_run_node) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:57} Executing node 'start' in flow 667a0a83-c223-4667-8280-216bd8993a5f
2025-10-14 22:22:31.703 INFO {ThreadPoolExecutor-1_0} [node] (run) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\node.py:55} Executing node 'start' [runner_id=6e874874-e7ab-49e5-ba9b-de8aef6c168f] with inputs: {}
2025-10-14 22:22:31.703 INFO {ThreadPoolExecutor-1_0} [node] (run) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\node.py:58} Sending POST to http://127.0.0.1:8500/nodes/add-node with payload keys: ['node_name', 'code', 'inputs', 'runner_id']
2025-10-14 22:22:31.703 INFO {MainThread} [fcb_queue] (start_fcb) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:115} \u25b6\ufe0f Started FlowControlBlock 667a0a83-c223-4667-8280-216bd8993a5f
2025-10-14 22:22:31.704 INFO {MainThread} [main] (add_fcb) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:70} Flow Control Block added successfully with ID: 667a0a83-c223-4667-8280-216bd8993a5f
2025-10-14 22:22:31.704 INFO {MainThread} [main] (log_requests) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:50} Response status: 200 for POST http://127.0.0.1:9500/fcb/add
2025-10-14 22:22:31.865 INFO {MainThread} [main] (log_requests) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:48} Incoming request: POST http://127.0.0.1:9500/fcb/add
2025-10-14 22:22:31.867 INFO {MainThread} [main] (add_fcb) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:60} Add FCB request received with nodes: ['start', 'node1']
2025-10-14 22:22:31.867 INFO {MainThread} [flow] (__init__) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow.py:12} Flow initialized with 2 nodes
2025-10-14 22:22:31.867 INFO {MainThread} [flow_control_block] (__init__) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:27} FlowControlBlock 7333f192-bde2-4852-8488-75501cc9e14d initialized in QUEUED state
2025-10-14 22:22:31.867 INFO {MainThread} [fcb_queue] (add_fcb) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:107} \u2795 Added new FlowControlBlock with id 7333f192-bde2-4852-8488-75501cc9e14d
2025-10-14 22:22:31.867 INFO {MainThread} [flow_control_block] (start) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:30} FlowControlBlock 7333f192-bde2-4852-8488-75501cc9e14d starting
2025-10-14 22:22:31.867 INFO {MainThread} [flow_control_block] (exec) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:72} Submitting next node execution for flow 7333f192-bde2-4852-8488-75501cc9e14d
2025-10-14 22:22:31.867 INFO {ThreadPoolExecutor-1_1} [flow] (get_curr_node) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow.py:24} Getting current node: start
2025-10-14 22:22:31.868 INFO {ThreadPoolExecutor-1_1} [flow] (get_curr_inp) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow.py:28} Getting current input data: {}
2025-10-14 22:22:31.868 INFO {ThreadPoolExecutor-1_1} [flow_control_block] (_run_node) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:57} Executing node 'start' in flow 7333f192-bde2-4852-8488-75501cc9e14d
2025-10-14 22:22:31.868 INFO {ThreadPoolExecutor-1_1} [node] (run) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\node.py:55} Executing node 'start' [runner_id=9b69ed4e-8746-4f01-998c-445d18254e41] with inputs: {}
2025-10-14 22:22:31.868 INFO {ThreadPoolExecutor-1_1} [node] (run) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\node.py:58} Sending POST to http://127.0.0.1:8500/nodes/add-node with payload keys: ['node_name', 'code', 'inputs', 'runner_id']
2025-10-14 22:22:31.868 INFO {MainThread} [fcb_queue] (start_fcb) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:115} \u25b6\ufe0f Started FlowControlBlock 7333f192-bde2-4852-8488-75501cc9e14d
2025-10-14 22:22:31.869 INFO {MainThread} [main] (add_fcb) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:70} Flow Control Block added successfully with ID: 7333f192-bde2-4852-8488-75501cc9e14d
2025-10-14 22:22:31.869 INFO {MainThread} [main] (log_requests) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:50} Response status: 200 for POST http://127.0.0.1:9500/fcb/add
2025-10-14 22:22:32.131 INFO {ThreadPoolExecutor-1_0} [_client] (_send_single_request) {D:\Project\V1\FlowKit\.conda\Lib\site-packages\httpx\_client.py:1025} HTTP Request: POST http://127.0.0.1:8500/nodes/add-node "HTTP/1.1 500 Internal Server Error"
2025-10-14 22:22:32.137 ERROR {ThreadPoolExecutor-1_0} [node] (run) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\node.py:87} \u274c HTTP error for node 'start': 500 - Internal Server Error
2025-10-14 22:22:32.137 ERROR {ThreadPoolExecutor-1_0} [flow_control_block] (_run_node) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:64} Exception while executing node 'start' in flow 667a0a83-c223-4667-8280-216bd8993a5f: 1 validation error for NodeExecutionData
code
  Field required [type=missing, input_value={'node_name': 'start', 'r...Internal Server Error")}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
Traceback (most recent call last):
  File "D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py", line 59, in _run_node
    result = curr_node.run(curr_inp)
  File "D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\node.py", line 88, in run
    return NodeExecutionData(
        node_name=self.name,
    ...<5 lines>...
        outputs=NodeOutputs(nodes=[], outputs={}, status="error", message=error_msg),
    )
  File "D:\Project\V1\FlowKit\.conda\Lib\site-packages\pydantic\main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for NodeExecutionData
code
  Field required [type=missing, input_value={'node_name': 'start', 'r...Internal Server Error")}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-10-14 22:22:32.210 INFO {ThreadPoolExecutor-1_1} [_client] (_send_single_request) {D:\Project\V1\FlowKit\.conda\Lib\site-packages\httpx\_client.py:1025} HTTP Request: POST http://127.0.0.1:8500/nodes/add-node "HTTP/1.1 500 Internal Server Error"
2025-10-14 22:22:32.215 ERROR {ThreadPoolExecutor-1_1} [node] (run) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\node.py:87} \u274c HTTP error for node 'start': 500 - Internal Server Error
2025-10-14 22:22:32.215 ERROR {ThreadPoolExecutor-1_1} [flow_control_block] (_run_node) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:64} Exception while executing node 'start' in flow 7333f192-bde2-4852-8488-75501cc9e14d: 1 validation error for NodeExecutionData
code
  Field required [type=missing, input_value={'node_name': 'start', 'r...Internal Server Error")}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
Traceback (most recent call last):
  File "D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py", line 59, in _run_node
    result = curr_node.run(curr_inp)
  File "D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\node.py", line 88, in run
    return NodeExecutionData(
        node_name=self.name,
    ...<5 lines>...
        outputs=NodeOutputs(nodes=[], outputs={}, status="error", message=error_msg),
    )
  File "D:\Project\V1\FlowKit\.conda\Lib\site-packages\pydantic\main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for NodeExecutionData
code
  Field required [type=missing, input_value={'node_name': 'start', 'r...Internal Server Error")}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-10-14 22:23:01.307 INFO {MainThread} [fcb_queue] (clean_up) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:143} Cleaning up all FlowControlBlocks
2025-10-14 22:23:01.307 INFO {MainThread} [flow_control_block] (stop) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:35} FlowControlBlock 667a0a83-c223-4667-8280-216bd8993a5f stopping
2025-10-14 22:23:01.307 INFO {MainThread} [fcb_queue] (clean_up) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:147} \U0001f6d1 Stopped FlowControlBlock 667a0a83-c223-4667-8280-216bd8993a5f during cleanup
2025-10-14 22:23:01.307 INFO {MainThread} [flow_control_block] (stop) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb\flow_control_block.py:35} FlowControlBlock 7333f192-bde2-4852-8488-75501cc9e14d stopping
2025-10-14 22:23:01.307 INFO {MainThread} [fcb_queue] (clean_up) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:147} \U0001f6d1 Stopped FlowControlBlock 7333f192-bde2-4852-8488-75501cc9e14d during cleanup
2025-10-14 22:23:01.310 INFO {MainThread} [fcb_queue] (clean_up) {D:\Project\V1\FlowKit\src\FlowKitControlUint\controlunit\fcb_queue.py:154} \U0001f9fd Cleaned up FlowControlBlockQueue resources
2025-10-14 22:23:01.310 INFO {MainThread} [main] (lifespan) {D:\Project\V1\FlowKit\src\FlowKitControlUint\main.py:42} Cleaned up FCB_QUEUE and shutting down
